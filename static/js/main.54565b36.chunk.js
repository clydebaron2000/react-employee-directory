(this["webpackJsonpreact-local"]=this["webpackJsonpreact-local"]||[]).push([[0],{55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a(26),s=a.n(c),l=a(11),i=a(2),o=a(27),j=a(28),d=a(32),h=a(31),u=a(29),b=a.n(u),m={getEmployees:function(){return b.a.get("https://randomuser.me/api/?results=100&nat=us")}},O=a(9);var f=function(e){return Object(n.jsx)("div",Object(O.a)({className:"container".concat(e.fluid?"-fluid":"")},e))};a(55);var x=function(e){return Object(n.jsx)("form",{className:"search",children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(n.jsx)("input",{value:e.criteria.name,onChange:e.handleInputChange,name:"name",type:"text",className:"form-control",placeholder:"type a name",id:"name"}),Object(n.jsx)("label",{htmlFor:"dateRange",children:"DOB Range:"}),Object(n.jsxs)("div",{id:"daterange",children:[Object(n.jsx)("input",{value:e.criteria.startDate,onChange:e.handleInputChange,id:"startDate",name:"startDate",type:"date"}),"-",Object(n.jsx)("input",{value:e.criteria.endDate,onChange:e.handleInputChange,id:"endDate",name:"endDate",type:"date"})]}),Object(n.jsx)("button",{type:"submit",onClick:e.handleFormSubmit,className:"btn btn-success",children:"Search"})]})})},p=a(12);a(56);var g=function(e){var t=Object(r.useState)(e.results),a=Object(p.a)(t,2),c=a[0],s=(a[1],Object(r.useState)(c)),l=Object(p.a)(s,2),i=l[0],o=l[1],j=Object(r.useState)("last"),d=Object(p.a)(j,2),h=d[0],u=d[1];function b(e){e.preventDefault(),console.log("sortstate",h),u(e.target.name),m(h)}function m(t){switch(t){case"last":console.log("l"),o(e.results.sort((function(e,t){return e.name.last!==t.name.last?e.name.last>t.name.last?1:-1:0})));break;case"first":console.log("f"),o(e.results.sort((function(e,t){return e.name.first!==t.name.first?e.name.first>t.name.first?1:-1:0})));break;case"age":console.log("a"),o(e.results.sort((function(e,t){var a=parseInt(e.dob.age),n=parseInt(t.dob.age);return a===n?0:a>n?1:-1})));break;default:o(e.results),console.log("default")}}return Object(r.useEffect)((function(){m(h),u("."),console.log(e.results)}),[h,e.results]),Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Picture"}),Object(n.jsx)("th",{children:"Title"}),Object(n.jsx)("th",{children:Object(n.jsx)("a",{href:"#last",name:"last",onClick:b,children:"Last"})}),Object(n.jsx)("th",{children:Object(n.jsx)("a",{href:"#first",name:"first",onClick:b,children:"First"})}),Object(n.jsx)("th",{children:"DOB"}),Object(n.jsx)("th",{children:Object(n.jsx)("a",{href:"#age",name:"age",onClick:b,children:"Age"})}),Object(n.jsx)("th",{children:"Cell"}),Object(n.jsx)("th",{children:"Email"})]})}),Object(n.jsx)("tbody",{children:i.map((function(e){return Object(n.jsxs)("tr",{className:"profile",children:[Object(n.jsx)("td",{children:Object(n.jsx)("img",{alt:"face",src:e.picture.medium,className:"img-fluid"})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{className:"title",children:e.name.title})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{className:"last",children:e.name.last})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{className:"first",children:e.name.first})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{className:"dob",children:"".concat(new Date(e.dob.date).getMonth(),"/").concat(new Date(e.dob.date).getDay(),"/").concat(new Date(e.dob.date).getFullYear())})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{className:"age",children:e.dob.age})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{className:"cell",children:e.cell})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{className:"email",children:e.email})})]},e.login.uuid)}))})]})};var v=function(e){return Object(n.jsx)("div",{role:"alert",className:"alert alert-".concat(e.type," fade in"),style:Object(O.a)({width:"80%",margin:"0 auto",marginTop:18},e.style),children:e.children})},D=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchCriteria:{name:"",startDate:"",endDate:""},results:[],error:""},e.handleInputChange=function(t){var a=e.state.searchCriteria;a[t.target.name]=t.target.value,e.setState({searchCriteria:a}),console.log(e.state.searchCriteria)},e.handleFormSubmit=function(t){"default"!==t&&t.preventDefault(),m.getEmployees().then((function(t){if("error"===t.data.status)throw new Error(t.data.message);var a=t.data.results,n=e.state.searchCriteria;console.log(a,n),a=(a=(a=a.filter((function(e){var t=Object.keys(e.name).map((function(t){return e.name[t]})).join(" "),a=n.name,r=!0;return void 0!==a&&(r=-1!==t.indexOf(a)),r}))).filter((function(e){var t=new Date(e.dob.date),a=new Date(n.startDate),r=new Date(n.endDate),c=!0;return void 0!==n.startDate&&""!==n.startDate&&(c=a<=t),void 0!==n.endDate&&""!==n.endDate&&(c=t<=r),void 0!==n.startDate&&""!==n.startDate&&void 0!==n.endDate&&""!==n.endDate&&(c=a<=t&&t<=r),c}))).sort((function(e,t){return e.name.last>t.name.last?1:-1})),console.log(a),e.setState({results:a,error:""})})).catch((function(t){return e.setState({error:t.message})}))},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.handleFormSubmit("default")}},{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(f,{style:{minHeight:"80%"},children:[Object(n.jsx)("h1",{className:"text-center",children:"Search Employees!"}),Object(n.jsx)(v,{type:"danger",style:{opacity:this.state.error?1:0,marginBottom:10},children:this.state.error}),Object(n.jsx)(x,{handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange,criteria:this.state.searchCriteria}),Object(n.jsx)(g,{results:this.state.results})]})})}}]),a}(r.Component);a(57);var y=function(){return Object(n.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(n.jsx)(l.b,{className:"navbar-brand",to:"/",children:"Company Directory"}),Object(n.jsx)("div",{children:Object(n.jsx)("ul",{className:"navbar-nav",children:Object(n.jsx)("li",{className:"nav-item"})})})]})};a(63);var C=function(){return Object(n.jsx)("footer",{className:"footer",children:Object(n.jsx)("span",{children:"Company 2020"})})};a(64);var N=function(e){return Object(n.jsx)("main",Object(O.a)({className:"wrapper"},e))};var w=function(){return Object(n.jsx)(l.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(y,{}),Object(n.jsx)(N,{children:Object(n.jsx)(i.a,{path:"/react-employee-directory/",component:D})}),Object(n.jsx)(C,{})]})})};a(65);s.a.render(Object(n.jsx)(w,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.54565b36.chunk.js.map